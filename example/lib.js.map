{"version":3,"file":"lib.js","sources":["../src/index.ts"],"sourcesContent":["export default class Plotter {\n  public canvas: HTMLCanvasElement;\n  public gl: WebGLRenderingContext;\n\n  // Geometry of the drawing surface\n  private vertexCode: string = 'attribute vec2 coordinates;void main(void){gl_Position=vec4(coordinates,0.0,1.0);}';\n  private vertices: number[] = [-0.5, 0.5, -0.5, -0.5, 0.0, -0.5];\n  private shaderProgram: WebGLProgram;\n  private vertexBuffer: WebGLBuffer;\n\n  constructor(canvas: HTMLCanvasElement) {\n    // Setting Canvas and creating a rendering context\n    this.canvas = canvas;\n    this.gl = canvas.getContext(\"webgl\");\n    this.shaderProgram = this.gl.createProgram();\n\n    this.createBuffer();\n    this.compileShader(this.gl.VERTEX_SHADER, this.vertexCode);\n  }\n\n  private createBuffer() {\n    this.vertexBuffer = this.gl.createBuffer();\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuffer);\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array(this.vertices), this.gl.STATIC_DRAW);\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n  }\n\n  private compileShader(type: number, code: string) {\n    const shader: WebGLShader = this.gl.createShader(type);\n    this.gl.shaderSource(shader, code);\n    this.gl.compileShader(shader);\n    this.gl.attachShader(this.shaderProgram, shader);\n  }\n\n  private run() {\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuffer);\n    this.gl.linkProgram(this.shaderProgram);\n    this.gl.useProgram(this.shaderProgram);\n\n    const coord = this.gl.getAttribLocation(this.shaderProgram, \"coordinates\");\n    this.gl.vertexAttribPointer(coord, 2, this.gl.FLOAT, false, 0, 0);\n    this.gl.enableVertexAttribArray(coord);\n\n    this.gl.clearColor(0.5, 0.5, 0.5, 0.9);\n    this.gl.enable(this.gl.DEPTH_TEST);\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n    this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n    this.gl.drawArrays(this.gl.TRIANGLES, 0, 3);\n  }\n}\n"],"names":[],"mappings":"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"}